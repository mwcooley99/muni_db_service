{% extends "bootstrap/base.html" %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet"
          href="{{ url_for('.static', filename='css/bootstrap.min.css') }}">
{% endblock %}

{% block title %}Muni Service{% endblock %}

{% block content %}
    <div class="jumbotron text-center">
        <h1 class="display-4">Muni Data Service</h1>
        <p class="lead">Use the following API to access historical SF MUNI
            arrival time and "lateness score" information.</p>
    </div>

    <div class="container">

        <h1>Historical Data</h1>
        <p>API to return CSV of Muni predictions</p>

        <h3>GET Data</h3>
        <code>https://muni-db-service.herokuapp.com/data</code>


        <h3>Example Response</h3>
        <table class="table table-striped table-bordered">
            <thead>
            <tr>
                <th title="Field #1">id</th>
                <th title="Field #2">response_time</th>
                <th title="Field #3">recorded_time</th>
                <th title="Field #4">line_ref</th>
                <th title="Field #5">direction_ref</th>
                <th title="Field #6">stop_point_ref</th>
                <th title="Field #7">scheduled_arrival_time</th>
                <th title="Field #8">expected_arrival_time</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td align="right">1705</td>
                <td>2019-07-23 18:44:01-07:00</td>
                <td>2019-07-23 18:43:48-07:00</td>
                <td>38</td>
                <td>Outbound</td>
                <td align="right">14265</td>
                <td>2019-07-23 18:33:55-07:00</td>
                <td>2019-07-23 18:44:02-07:00</td>
            </tr>
            <tr>
                <td align="right">1706</td>
                <td>2019-07-23 18:44:01-07:00</td>
                <td>2019-07-23 18:43:48-07:00</td>
                <td>7</td>
                <td>Inbound</td>
                <td align="right">15311</td>
                <td>2019-07-23 18:41:05-07:00</td>
                <td>2019-07-23 18:44:04-07:00</td>
            </tr>
            <tr>
                <td align="right">1707</td>
                <td>2019-07-23 18:44:01-07:00</td>
                <td>2019-07-23 18:43:48-07:00</td>
                <td>2</td>
                <td>Inbound</td>
                <td align="right">16125</td>
                <td>2019-07-23 18:41:17-07:00</td>
                <td>2019-07-23 18:44:05-07:00</td>
            </tr>
            <tr>
                <td align="right">1708</td>
                <td>2019-07-23 18:44:01-07:00</td>
                <td>2019-07-23 18:43:48-07:00</td>
                <td>38</td>
                <td>Outbound</td>
                <td align="right">17854</td>
                <td>2019-07-23 18:46:17-07:00</td>
                <td>2019-07-23 18:44:06-07:00</td>
            </tr>
            <tr>
                <td align="right">1709</td>
                <td>2019-07-23 18:44:01-07:00</td>
                <td>2019-07-23 18:43:48-07:00</td>
                <td>N</td>
                <td>Outbound</td>
                <td align="right">15205</td>
                <td>2019-07-23 18:37:33-07:00</td>
                <td>2019-07-23 18:44:06-07:00</td>
            </tr>
        </table>


        <hr>

        <h1>Shame Score For MUNI Stations</h1>
        <p>List Shames Scores</p>

        <h3>GET Shame Scores</h3>
        <code>https://muni-db-service.herokuapp.com/scores</code>

        <h3>Example Response</h3>
        <pre>
            <code class="language-js">
        {
            "stop_point_ref": 13089,
            "direction_ref": "Inbound",
            "lines": [
                {
                "line_ref": "38",
                    "scores": {
                        "min_late": 11.018867924528301,
                        "prediction_label": "0-5 min late"
                    }
                },
                {
                    "line_ref": "7",
                    "scores": {
                        "min_late": 21.074074074074073,
                        "prediction_label": "0-5 min late"
                    }
                }
            ]
        }
        </code>
        </pre>

        <h3>Report Parameters</h3>
        <table class="table">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Example</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td scope="row">time</td>
                <td>Float</td>
                <td>time=12.5</td>
                <td>A number Between 0-24 in 0.5 increments corresponding to
                    the time of day PST.
                </td>
            </tr>

            </tbody>
        </table>

    </div>
{% endblock %}